<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bella Pizza - Delivery</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Lobster&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-content">
            <img src="logo.png" alt="Bella Pizza Logo" class="logo">
            <button class="menu-toggle" id="menu-toggle" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <nav id="tabs" class="nav-menu">
        <button class="tab-btn active" data-target="menu">Cardápio</button>
        <button class="tab-btn" data-target="order">Faça seu Pedido</button>
        <button class="tab-btn" data-target="contact">Contato</button>
        <button class="tab-btn" data-target="location">Onde estamos</button>
    </nav>

    <main>
        <section id="menu">
            <h2>Nosso Cardápio</h2>
            <h3 class="menu-subtitle">Pizzas Salgadas</h3>

            <div class="menu-category">
                <h3>Pizzas - P: R$ 30,90 | G: R$ 38,90</h3>
                <ul>
                    <li>
                        <strong>Calabresa 1:</strong> molho de tomate, mussarela, cebola, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Mista:</strong> molho de tomate, apresuntado, mussarela, tomate, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Mussarela:</strong> molho de tomate, mussarela, tomate, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Napolitana:</strong> molho de tomate, mussarela, palmito, cebola, azeitona e orégano.
                    </li>
                </ul>
            </div>

            <div class="menu-category">
                <h3>Pizzas - P: R$ 32,90 | G: R$ 44,90</h3>
                <ul>
                    <li>
                        <strong>4 Queijos:</strong> molho de tomate, requeijão, mussarela, provolone, gorgonzola, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Atum:</strong> molho de tomate, mussarela, atum, cebola, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Bacon:</strong> molho de tomate, mussarela, requeijão, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Baiana:</strong> (Ingredientes não especificados).
                    </li>
                    <li>
                        <strong>Calabresa 2:</strong> molho de tomate, calabresa, palmito, mussarela, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Marguerita:</strong> molho de tomate, mussarela, tomate, parmesão, manjericão fresco, cebola, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Palmito:</strong> molho de tomate, mussarela, palmito, cebola, azeitona e orégano.
                    </li>
                </ul>
            </div>

            <div class="menu-category">
                <h3>Pizzas - P: R$ 35,90 | G: R$ 48,90</h3>
                <ul>
                    <li>
                        <strong>Brócolis:</strong> molho de tomate, mussarela, brócolis, requeijão, bacon, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Caipira:</strong> molho de tomate, requeijão, frango, milho, bacon, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Frango / Catupiry:</strong> molho de tomate, mussarela, frango, requeijão, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Mineirinha:</strong> molho de tomate, mussarela, frango, milho, ovos cozidos, bacon e azeitona.
                    </li>
                     <li>
                        <strong>Portuguesa:</strong> molho de tomate, apresuntado, ervilha, ovo cozido, palmito, mussarela, cebola, azeitona e orégano.
                    </li>
                    <li>
                        <strong>Toscana:</strong> (Ingredientes não especificados).
                    </li>
                </ul>
            </div>

            <h3 class="menu-subtitle">Pizzas Doces</h3>
            <div class="menu-category">
                <h3>Pizzas Doces - P: R$ 33,90 | G: R$ 46,90</h3>
                <ul>
                    <li>
                        <strong>Banana Nevada:</strong> mussarela, banana, chocolate branco e canela.
                    </li>
                    <li>
                        <strong>Kit Kat:</strong> chocolate e Kit Kat.
                    </li>
                    <li>
                        <strong>Morango:</strong> chocolate e morango.
                    </li>
                    <li>
                        <strong>Uva:</strong> chocolate e uva.
                    </li>
                    <li>
                        <strong>Sonho de Valsa:</strong> chocolate e Sonho de Valsa.
                    </li>
                </ul>
            </div>

            <div class="menu-category">
                <h3>Pizzas Doces - P: R$ 32,90 | G: R$ 43,90</h3>
                <ul>
                    <li>
                        <strong>Brigadeiro:</strong> chocolate e granulado.
                    </li>
                    <li>
                        <strong>Choconana:</strong> chocolate e banana.
                    </li>
                    <li>
                        <strong>Confete:</strong> chocolate e confete.
                    </li>
                </ul>
            </div>
        </section>

        <section id="order">
            <h2>Monte seu Pedido</h2>
            <form id="order-form">
                <div id="pizzas-list"></div>
                <div class="order-actions">
                    <button type="button" id="add-pizza" class="btn-secondary">Adicionar pizza</button>
                </div>
                <div class="form-group">
                    <label for="address" class="group-label">Endereço de Entrega</label>
                    <input id="address" type="text" placeholder="Rua, número, bairro" required>
                </div>
                <div class="form-group">
                    <label for="phone" class="group-label">Telefone de contato</label>
                    <input id="phone" type="tel" placeholder="(DDD) 9XXXX-XXXX" required>
                </div>
                <button type="button" id="send-order" class="btn-primary">Enviar Pedido</button>
            </form>
        </section>

        <div id="flavor-modal" class="modal hidden" aria-hidden="true">
            <div class="modal-content">
                <h3>Escolha até 2 sabores</h3>
                <div id="modal-flavors" class="flavors-grid"></div>
                <div class="modal-actions">
                    <button type="button" id="modal-save" class="btn-primary">Salvar</button>
                    <button type="button" id="modal-cancel" class="btn-secondary">Cancelar</button>
                </div>
            </div>
        </div>

        <section id="contact">
            <h2>Peça já a sua!</h2>
            <p>Massa fresquinha e ingredientes selecionados.</p>
            <p>Telefone: <a href="tel:+5512991673437">(12) 99167-3437</a></p>
            <p>WhatsApp: <a href="https://wa.me/5512991673437?text=Olá!%20Gostaria%20de%20fazer%20um%20pedido." target="_blank">(12) 99167-3437</a></p>
        </section>

        <section id="location">
            <h2>Onde estamos</h2>
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d919.3665219101559!2d-45.180758730531004!3d-22.82223939870715!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94ccc51b1ed727b1%3A0x4722f045e67137f0!2sR.%20Dona%20Helena%20Galv%C3%A3o%20C%C3%A9sar%2C%20283%20-%20Jardim%20Modelo%2C%20Guaratinguet%C3%A1%20-%20SP%2C%2012524-840!5e0!3m2!1spt-BR!2sbr!4v1767764926016!5m2!1spt-BR!2sbr" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 Bella Pizza. Todos os direitos reservados.</p>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Menu hambúrguer functionality
            var menuToggle = document.getElementById('menu-toggle');
            var navMenu = document.getElementById('tabs');
            
            function toggleMenu() {
                navMenu.classList.toggle('active');
                menuToggle.classList.toggle('active');
            }
            
            function closeMenu() {
                navMenu.classList.remove('active');
                menuToggle.classList.remove('active');
            }
            
            if (menuToggle) {
                menuToggle.addEventListener('click', toggleMenu);
            }
            
            // Close menu when clicking outside
            document.addEventListener('click', function(e) {
                if (!navMenu.contains(e.target) && !menuToggle.contains(e.target)) {
                    closeMenu();
                }
            });
            
            // Close menu when window is resized to desktop
            window.addEventListener('resize', function() {
                if (window.innerWidth > 768) {
                    closeMenu();
                }
            });
            
            var tabButtons = document.querySelectorAll('#tabs .tab-btn');
            var sectionIds = ['menu', 'order', 'contact', 'location'];
            function showSection(id) {
                for (var s = 0; s < sectionIds.length; s++) {
                    var el = document.getElementById(sectionIds[s]);
                    if (el) el.style.display = sectionIds[s] === id ? '' : 'none';
                }
                // Close mobile menu after selection
                if (window.innerWidth <= 768) {
                    closeMenu();
                }
            }
            function setActive(btn) {
                for (var b = 0; b < tabButtons.length; b++) {
                    tabButtons[b].classList.remove('active');
                }
                btn.classList.add('active');
            }
            for (var tb = 0; tb < tabButtons.length; tb++) {
                tabButtons[tb].addEventListener('click', function (e) {
                    var target = e.currentTarget.getAttribute('data-target');
                    setActive(e.currentTarget);
                    showSection(target);
                });
            }
            showSection('menu');

            var flavorNodes = document.querySelectorAll('#menu .menu-category ul li strong');
            var flavorNames = [];
            for (var i = 0; i < flavorNodes.length; i++) {
                var n = flavorNodes[i].textContent.trim().replace(/:$/, '');
                if (flavorNames.indexOf(n) === -1) flavorNames.push(n);
            }
            var pizzasState = {};
            var pizzaCounter = 0;
            function createPizzaCard(id) {
                var card = document.createElement('div');
                card.className = 'pizza-card';
                card.setAttribute('data-pizza-id', id);
                var sizeGroup = document.createElement('div');
                sizeGroup.className = 'form-group';
                var lblSize = document.createElement('label');
                lblSize.className = 'group-label';
                lblSize.textContent = 'Tamanho';
                var sizeOpts = document.createElement('div');
                sizeOpts.className = 'size-options';
                var l1 = document.createElement('label');
                l1.className = 'radio';
                var r1 = document.createElement('input');
                r1.type = 'radio';
                r1.name = 'size-' + id;
                r1.value = 'P';
                var s1 = document.createElement('span');
                s1.textContent = 'P';
                l1.appendChild(r1); l1.appendChild(s1);
                var l2 = document.createElement('label');
                l2.className = 'radio';
                var r2 = document.createElement('input');
                r2.type = 'radio';
                r2.name = 'size-' + id;
                r2.value = 'G';
                var s2 = document.createElement('span');
                s2.textContent = 'G';
                l2.appendChild(r2); l2.appendChild(s2);
                sizeOpts.appendChild(l1); sizeOpts.appendChild(l2);
                sizeGroup.appendChild(lblSize); sizeGroup.appendChild(sizeOpts);
                var flavorsGroup = document.createElement('div');
                flavorsGroup.className = 'form-group';
                var lblFlavors = document.createElement('label');
                lblFlavors.className = 'group-label';
                lblFlavors.textContent = 'Sabores (máximo 2)';
                var chips = document.createElement('div');
                chips.className = 'chips';
                chips.textContent = 'Nenhum sabor selecionado';
                var btnPick = document.createElement('button');
                btnPick.type = 'button';
                btnPick.className = 'btn-secondary';
                btnPick.textContent = 'Escolher sabores';
                btnPick.addEventListener('click', function () {
                    openFlavorModal(id);
                });
                var btnRemove = document.createElement('button');
                btnRemove.type = 'button';
                btnRemove.className = 'btn-danger';
                btnRemove.textContent = 'Remover pizza';
                btnRemove.addEventListener('click', function () {
                    var list = document.getElementById('pizzas-list');
                    if (list.children.length > 1) {
                        delete pizzasState[id];
                        list.removeChild(card);
                    } else {
                        alert('Mantenha pelo menos uma pizza.');
                    }
                });
                flavorsGroup.appendChild(lblFlavors);
                flavorsGroup.appendChild(chips);
                flavorsGroup.appendChild(btnPick);
                flavorsGroup.appendChild(btnRemove);
                card.appendChild(sizeGroup);
                card.appendChild(flavorsGroup);
                var noteGroup = document.createElement('div');
                noteGroup.className = 'form-group';
                var lblNote = document.createElement('label');
                lblNote.className = 'group-label';
                lblNote.textContent = 'Observação (opcional)';
                var noteInput = document.createElement('input');
                noteInput.type = 'text';
                noteInput.placeholder = 'Ex.: sem milho';
                noteInput.className = 'note-input';
                noteInput.value = pizzasState[id] && pizzasState[id].note ? pizzasState[id].note : '';
                noteInput.addEventListener('input', function (e) {
                    pizzasState[id] = pizzasState[id] || {};
                    pizzasState[id].note = e.target.value;
                });
                noteGroup.appendChild(lblNote);
                noteGroup.appendChild(noteInput);
                card.appendChild(noteGroup);
                return card;
            }
            function updateChips(id) {
                var card = document.querySelector('.pizza-card[data-pizza-id="' + id + '"]');
                var chips = card.querySelector('.chips');
                var selected = pizzasState[id] && pizzasState[id].flavors ? pizzasState[id].flavors : [];
                chips.innerHTML = '';
                if (!selected.length) {
                    chips.textContent = 'Nenhum sabor selecionado';
                    return;
                }
                for (var c = 0; c < selected.length; c++) {
                    var chip = document.createElement('span');
                    chip.className = 'chip';
                    chip.textContent = selected[c];
                    chips.appendChild(chip);
                }
            }
            var pizzasList = document.getElementById('pizzas-list');
            function addPizza() {
                pizzaCounter += 1;
                var id = 'pizza-' + pizzaCounter;
                pizzasState[id] = { flavors: [], note: '' };
                var card = createPizzaCard(id);
                pizzasList.appendChild(card);
                updateChips(id);
            }
            document.getElementById('add-pizza').addEventListener('click', addPizza);
            addPizza();
            var modal = document.getElementById('flavor-modal');
            var modalFlavors = document.getElementById('modal-flavors');
            var currentPizzaId = null;
            function renderModal(selected) {
                modalFlavors.innerHTML = '';
                for (var j = 0; j < flavorNames.length; j++) {
                    var label = document.createElement('label');
                    label.className = 'checkbox';
                    var input = document.createElement('input');
                    input.type = 'checkbox';
                    input.value = flavorNames[j];
                    if (selected.indexOf(flavorNames[j]) !== -1) input.checked = true;
                    var span = document.createElement('span');
                    span.textContent = flavorNames[j];
                    label.appendChild(input);
                    label.appendChild(span);
                    modalFlavors.appendChild(label);
                }
                var inputs = modalFlavors.querySelectorAll('input[type="checkbox"]');
                function enforceLimit(e) {
                    var checked = modalFlavors.querySelectorAll('input[type="checkbox"]:checked');
                    if (checked.length > 2) {
                        e.target.checked = false;
                        alert('Selecione no máximo 2 sabores.');
                    }
                }
                for (var m = 0; m < inputs.length; m++) {
                    inputs[m].addEventListener('change', enforceLimit);
                }
            }
            function openFlavorModal(id) {
                currentPizzaId = id;
                var selected = pizzasState[id] && pizzasState[id].flavors ? pizzasState[id].flavors : [];
                renderModal(selected);
                modal.classList.remove('hidden');
                modal.setAttribute('aria-hidden', 'false');
            }
            document.getElementById('modal-cancel').addEventListener('click', function () {
                modal.classList.add('hidden');
                modal.setAttribute('aria-hidden', 'true');
            });
            document.getElementById('modal-save').addEventListener('click', function () {
                var chosen = [];
                var checked = modalFlavors.querySelectorAll('input[type="checkbox"]:checked');
                for (var x = 0; x < checked.length; x++) {
                    chosen.push(checked[x].value);
                }
                if (chosen.length === 0) {
                    alert('Selecione pelo menos 1 sabor.');
                    return;
                }
                if (chosen.length > 2) {
                    alert('Selecione no máximo 2 sabores.');
                    return;
                }
                pizzasState[currentPizzaId] = pizzasState[currentPizzaId] || {};
                pizzasState[currentPizzaId].flavors = chosen;
                updateChips(currentPizzaId);
                modal.classList.add('hidden');
                modal.setAttribute('aria-hidden', 'true');
            });
            var btnSend = document.getElementById('send-order');
            btnSend.addEventListener('click', function () {
                var cards = document.querySelectorAll('.pizza-card');
                if (!cards.length) {
                    alert('Adicione pelo menos uma pizza.');
                    return;
                }
                var pizzasSummary = [];
                for (var p = 0; p < cards.length; p++) {
                    var id = cards[p].getAttribute('data-pizza-id');
                    var sizeEl = cards[p].querySelector('input[name="size-' + id + '"]:checked');
                    if (!sizeEl) {
                        alert('Selecione o tamanho da ' + (p + 1) + 'ª pizza.');
                        return;
                    }
                    var size = sizeEl.value;
                    var flavors = pizzasState[id] && pizzasState[id].flavors ? pizzasState[id].flavors : [];
                    if (flavors.length === 0) {
                        alert('Selecione os sabores da ' + (p + 1) + 'ª pizza.');
                        return;
                    }
                    if (flavors.length > 2) {
                        alert('Selecione no máximo 2 sabores por pizza.');
                        return;
                    }
                    var note = pizzasState[id] && pizzasState[id].note ? pizzasState[id].note.trim() : '';
                    var line = 'Pizza ' + (p + 1) + ' — Tamanho: ' + size + ' — Sabores: ' + flavors.join(' + ');
                    if (note) line += ' — Obs: ' + note;
                    pizzasSummary.push(line);
                }
                var address = document.getElementById('address').value.trim();
                if (!address) {
                    alert('Informe o endereço de entrega.');
                    return;
                }
                var phoneRaw = document.getElementById('phone').value;
                var phoneDigits = phoneRaw.replace(/\D/g, '');
                if (phoneDigits.length < 10) {
                    alert('Informe um telefone válido.');
                    return;
                }
                var message = 'Olá! Gostaria de fazer um pedido.%0A' +
                    pizzasSummary.map(function (line) { return encodeURIComponent(line); }).join('%0A') + '%0A' +
                    'Endereço: ' + encodeURIComponent(address) + '%0A' +
                    'Telefone: ' + encodeURIComponent(phoneRaw);
                var url = 'https://wa.me/5512991673437?text=' + message;
                window.open(url, '_blank');
            });
        });
    </script>
</body>
</html>
